<!DOCTYPE html>
<html>
<head>
    <!--
    * Author:         BeiYuu
    -->
    <meta charset="utf-8" />
    <title>{% if page.title %}{{ page.title }} | {% endif %}{{ site.title }}</title>
    <meta name="generator" content="Jekyll" />
    <meta name="author" content="{{ site.author.name }}" />
    <meta name="description" content="{{ site.description }}" />
    <link rel="stylesheet" href="/css/default.css" type="text/css" />
    <link rel="alternate" type="application/atom+xml" title="Recent Entries" href="{{ site.feed }}" />
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />
</head>
<body>
    <div id="mycard">
    </div>
    <script src="/js/jquery-1.7.1.min.js" type="text/javascript"></script>
    <script type="text/javascript">
            $(document).ready(function(){
                var images = ['http://ww2.sinaimg.cn/large/8b8af2c8gw1dnukekmn9qj.jpg',
                    'http://ww1.sinaimg.cn/large/8b8af2c8gw1dnukb0j7izj.jpg',
                    'http://ww3.sinaimg.cn/large/8b8af2c8gw1dnukcrkc1kj.jpg',
                    'http://ww3.sinaimg.cn/large/8b8af2c8gw1dnukdit7vwj.jpg',
                'http://ww4.sinaimg.cn/large/8b8af2c8gw1dnukdtqx9dj.jpg'];

                var img = new Image(),imgWidth,imgHeight,winWidth,winHeight;
                img.src = images[parseInt(Math.random()*10,10)%5];
                img.id = 'bgImage'
                $(img).css({'position':'fixed','top':'0','z-index':'-2','display':'none'});
                $('body').append(img);
                if(img.complete){
                    imgHeight = img.height;
                    imgWidth = img.width;
                    resizeWindow();
                    $('#mycard').css({'opacity':0.6,'background-color':'#555','border-radius':'3px'});
                    $('img').animate({opacity:'toggle'},500);
                }else{
                    img.onload = function(){
                        imgHeight = img.height;
                        imgWidth = img.width;
                        resizeWindow();
                        $('#mycard').css({'opacity':0.6,'background-color':'#555','border-radius':'3px'});
                        $('img').animate({opacity:'toggle'},500);
                    }
                }

                resizeWindow = function(){
                    var _width,_height;
                    winHeight = $(document).height();
                    winWidth = $(document).width();
                    _height = imgHeight*winWidth/imgWidth;
                    _width = imgWidth*winHeight/imgHeight;
                    if(_height < winHeight){
                        $('#bgImage').css({'height':winHeight,'width':_width,'left':-(_width-winWidth)*0.5});
                    }else{
                        $('#bgImage').css({'width':winWidth,'height':_height,'left':0});
                    }
                }
                $(window).on('resize',resizeWindow);
            });
    </script>
</body>
</html>
